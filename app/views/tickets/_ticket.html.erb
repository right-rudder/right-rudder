<div id="<%= dom_id ticket %>" class="flex gap-10 items-center text-sm py-2 ml-5 border-t border-gray-300">
  <p class="uppercase w-28">
    <%= ticket.due_date&.strftime("%a, %b %e") %>
  </p>
  <%= form_with(model: [ticket.account, ticket], data: {controller: "tickets", tickets_target: "form"}) do |form| %> 
    <%= form.check_box :completed, class: "size-5", data: {action: "change->tickets#submit"} %>
    <%= form.hidden_field :source, value: local_assigns[:source] %>
    <%= form.hidden_field :filter, value: local_assigns[:filter] %>
  <% end %>
  <%= link_to account_ticket_path(ticket.account, ticket), data: { turbo_frame: "_top" } do %>
    <div class="<%= ticket.completed ? "text-gray-500" : "" %> flex items-center gap-5">
      <p><%= ticket.title %></p>
      <% if ticket.assigned_users.any? %>
        <p class="text-xs text-gray-500"><%= ticket.assigned_users.map(&:first_name).join(", ") %></p>
      <% end %>
      <% if ticket.content.body.present? %>
        <svg width="1em" height="1em" viewBox="0 0 16 16">
          <path fill="currentColor" d="M1.75 3a.75.75 0 0 0 0 1.5h12.5a.75.75 0 0 0 0-1.5zm0 3a.75.75 0 0 0 0 1.5h12.5a.75.75 0 0 0 0-1.5zM1 9.75A.75.75 0 0 1 1.75 9h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 9.75M1.75 12a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5z"/>
        </svg>
      <% end %>
      <% if ticket.comments.any? %>
        <div class="size-5 bg-blue-500 rounded-full flex justify-center items-center">
          <p class="text-xs text-white font-semibold"><%= ticket.comments.count %></p>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
